<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro - Festival de la Calle Cordova</title>
    <link rel="stylesheet" href="/resources/css/style.css">
</head>

<body>
    <div class="container">
        <div class="logo-section">
            <img src="/resources/img/LOGO.png" alt="Festival de la Calle Cordova Logo">
            <h1></h1>
            <h2></h2>
            <h3></h3>
            <p>FERIA INTERCULTURAL Y GASTRONÓMICA PORTEÑA</p>
        </div>

        <div class="form-section">
            <div class="register-form">
                <h1>R e g i s t r o</h1>
                <form action="/register" method="POST">
                    <div class="form-group">
                        <label for="user">Usuario: </label>
                        <input type="text" name="user" placeholder="Ingrese su usuario" required>
                    </div>

                    <div class="form-group">
                        <label for="name">Nombre: </label>
                        <input type="text" name="name" placeholder="Ingrese su nombre" required>
                    </div>

                    <div class="form-group">
                        <label for="rol">Rol:</label>
                        <select name="rol">
                            <option value="admin">Administrador</option>
                            <option value="user">Usuario</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="pass">Contraseña: </label>
                        <input type="password" name="pass" placeholder="Ingrese su contraseña" required>
                    </div>

                    <div class="inline-buttons">
                        <a href="/" class="btn-cancel">Cancelar</a>
                        <input type="submit" class="btn-save" value="Guardar">
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

    <% if (typeof alert !=='undefined' && alert) { %>  <-- ¡Esta es la clave! -->
        <script>
            Swal.fire({
                title: '<%= alertTitle %>',
                text: '<%= alertMessage %>',
                icon: '<%= alertIcon %>',
                showConfirmButton: <%= showConfirmButton %>,
                timer: <%= timer %>
            }).then(() => {
                // Solo redirige si hay una ruta definida.
                if ('<%= ruta %>' !== '') {
                    window.location = '/<%= ruta %>'
                } else if ('<%= ruta %>' === '') { // Para casos donde ruta es vacía y queremos recargar la página actual
                    window.location.reload();
                }
            })
        </script>
    <% } %>

</body>

</html>